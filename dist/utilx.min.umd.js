!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).utilx={})}(this,(function(e){"use strict";function t(e){return"Array"===Object.prototype.toString.call(e).slice(8,-1)}function n(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)}e.arrayRef=function(e){if(!t(e))throw new Error("The argument must be an array!");return[...new Set(e)]},e.base64ToBlob=function(e){const t=e.dataURL.split(";base64,"),n=t[0].split(":")[1],r=window.atob(t[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e++)i[e]=r.charCodeAt(e);return new Blob([i],{type:n})},e.convertUrlToBase64=function(e){return new Promise(((t,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.src=e,r.onload=()=>{const e=document.createElement("canvas");e.width=r.width,e.height=r.height;e.getContext("2d").drawImage(r,0,0,r.width,r.height);const n=r.src.substring(r.src.lastIndexOf(".")+1).toLowerCase(),o=e.toDataURL(`image/${n}`);t({dataURL:o,type:`image/${n}`,ext:n})}}))},e.debounce=function(e,t){let n;return(...r)=>{const o=this;n&&clearTimeout(n),n=setTimeout((()=>{e.apply(o,r),n=null}),t)}},e.deepClone=function e(t){if("object"!=typeof t||null===t)return t;let n;return n=Array.isArray(t)?[]:{},Object.keys(t).forEach((r=>{n[r]=e(t[r])})),n},e.downloadUrl=function(e){let t=e;const n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,r=navigator.userAgent.toLowerCase().indexOf("safari")>-1;if(n||r){const n=document.createElement("a");if(n.href=t,void 0!==n.download){const r=t.substring(e.lastIndexOf("/")+1,t.length);n.download=r}if(document.createEvent){const e=document.createEvent("MouseEvents");return e.initEvent("click",!0,!0),n.dispatchEvent(e),!0}}return-1===t.indexOf("?")&&(t+="?download"),window.open(t,"_self"),!0},e.getClient=function(){const e=navigator.userAgent,t=navigator.platform;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,weixin:e.indexOf("MicroMessenger")>-1,webApp:-1===e.indexOf("Safari"),UCB:"UCBrowser"===e.match(/UCBrowser/i),QQB:"MQQBrowser"===e.match(/MQQBrowser/i),win:t.indexOf("Win")>-1,mac:t.indexOf("Mac")>-1}},e.getColor16=function(){return`#${Math.random().toString(16).slice(-6)}`},e.getQuery=function(e){const t=e.substr(e.indexOf("?")+1).split("&"),n={};for(let e=0;e<t.length;e++){const r=t[e].split("="),o=r[0],i=r[1];Object.prototype.hasOwnProperty.call(n,o)?Array.isArray(n[o])?n[o].push(i):n[o]=[n[o],i]:n[o]=i}return n},e.humpToUnder=function(e){if("string"!=typeof e)throw new Error("The argument must be String");return e.match(/^[a-z][a-z0-9]+|[A-Z][a-z0-9]*/g).join("_").toLowerCase()},e.isArray=t,e.isEmptyObj=function(e){if(!n(e))throw new Error("The argument must be an object!");return 0===Object.keys(e).length},e.isFunction=function(e){return"Function"===Object.prototype.toString.call(e).slice(8,-1)},e.isObject=n,e.isUrl=function(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol},e.throttle=function(e,t){let n;return(...r)=>{const o=this;n||(n=setTimeout((()=>{e.apply(o,r),clearTimeout(n),n=null}),t))}},e.underToHump=function(e){if("string"!=typeof e)throw new Error("The argument must be String");return e.replace(/\_(\w)/g,((e,t)=>t.toUpperCase()))}}));
